<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
	<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8"
		data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script>
	<script type="text/javascript">
		function OptanonWrapper() { }
	</script>
	<script>var offline = (location.href.indexOf('docs.unity3d.com') == -1) ? true : false; if (!offline) { (function (w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-5V25JL6'); }</script>
	<link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Unity - Manual: Draw call batching</title>
	<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
	<meta name="author" content="Unity Technologies">
	<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
	<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
	<link rel="apple-touch-icon-precomposed" sizes="152x152"
		href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon-precomposed" sizes="144x144"
		href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon-precomposed" sizes="120x120"
		href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon-precomposed" sizes="114x114"
		href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon-precomposed" sizes="72x72"
		href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
	<meta name="msapplication-TileColor" content="#222c37">
	<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
	<script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script>
	<script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20230901"></script>
	<script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20230901"></script>
	<script type="text/javascript" src="docdata/toc.js?ts=20230901"></script>
	<script type="text/javascript" src="docdata/global_toc.js?ts=20230901"></script>
	<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20230901">
	<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
	<script src="../StaticFilesManual/js/prism.js"></script>
	<script src="/StaticFilesConfig/feedback/feedback.js"></script>
	<script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script>
	<link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
	<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>

<body>
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0"
			style="display:none;visibility:hidden"></iframe></noscript>
	<div id="DocsAnalyticsData" data-area="graphics" data-pagetype="manual"></div>
	<div class="header-wrapper">
		<div id="header" class="header">
			<div class="content">
				<div class="spacer">
					<div class="menu">
						<div id="nav-open" for="nav-input"><span></span></div>
						<div class="logo"><a href="https://docs.unity3d.com"></a></div>
						<div class="search-form">
							<form action="30_search.html" method="get" class="apisearch">
								<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference"
									results="5" class="sbox field" id="q"><input type="submit" class="submit">
							</form>
						</div>
						<ul>
							<li><a href="../Manual/index.html" class="selected">Manual</a></li>
							<li><a href="../ScriptReference/index.html">Scripting API</a></li>
						</ul>
					</div>
				</div>
				<div class="more">
					<div class="filler"></div>
					<ul>
						<li><a href="https://unity.com/">unity.com</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="toolbar">
			<div class="content">
				<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
					Version: <b>2022.3</b>
					<div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
						<ul id="OtherVersionsContentUl"></ul>
						<div id="otherVersionsLegend">
							<ul>
								<li>
									<div id="supportedColour" class="legendBox"></div>Supported
								</li>
								<li>
									<div id="notFoundColour" class="legendBox"></div>Legacy
								</li>
							</ul>
						</div>
					</div>
					<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
				</div>
				<div class="lang-switcher">
					<div class="current toggle" data-target=".lang-list">
						<div class="lbl">Language
							: <span class="b">English</span>
						</div>
						<div class="arrow"></div>
						<div class="lang-list" style="display:none;">
							<ul>
								<li><a href="/Manual/DrawCallBatching.html">English</a></li>
								<li><a href="/cn/current/Manual/DrawCallBatching.html">中文</a></li>
								<li><a href="/ja/current/Manual/DrawCallBatching.html">日本語</a></li>
								<li><a href="/kr/current/Manual/DrawCallBatching.html">한국어</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
	</div>
	<div id="master-wrapper" class="master-wrapper clear">
		<div id="sidebar" class="sidebar">
			<div class="sidebar-wrap">
				<div class="content">
					<div class="sidebar-menu">
						<div class="toc" id="customScrollbar">
							<h2>Unity Manual</h2>
							<div class="search-form sidebar-search-form">
								<form action="30_search.html" method="get" class="apisearch">
									<input type="text" name="q" placeholder="Search manual..."
										autosave="Unity Reference" results="5" class="sbox field" id="q"><input
										type="submit" id="mobileSearchBtn" class="submit" value="Search">
								</form>
							</div>
							<div class="toggle version-number sidebar-version-switcher" id="VersionNumber"
								data-target=".otherversionscontent">
								<form id="otherVersionsContentMobileForm">
									<div class="ui-field-contain">
										<label for="select-native-4">Version: 2022.3</label><select
											name="select-native-4" id="versionsSelectMobile">
											<option>Select a different version</option>
											<optgroup id="versionsWithThisPageMobile" label="Versions with this page">
											</optgroup>
											<optgroup id="versionsWithoutThisPageMobile"
												label="Versions without this page"></optgroup>
										</select>
									</div>
								</form>
							</div>
							<div class="lang-switcher">
								<div class="current toggle" data-target=".lang-list">
									<div class="lbl">Language
										: <span class="b">English</span>
									</div>
									<div class="arrow"></div>
									<div class="lang-list" style="display:none;">
										<ul>
											<li><a href="/Manual/DrawCallBatching.html">English</a></li>
											<li><a href="/cn/current/Manual/DrawCallBatching.html">中文</a></li>
											<li><a href="/ja/current/Manual/DrawCallBatching.html">日本語</a></li>
											<li><a href="/kr/current/Manual/DrawCallBatching.html">한국어</a></li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="content-wrap" class="content-wrap">
			<div class="content-block">
				<div class="content">
					<div class="section">
						<div class="breadcrumbs clear">
							<ul>
								<li><a href="UnityManual.html"> Unity User Manual 2022.3 (LTS)</a></li>
								<li><a href="Graphics.html">Graphics</a></li>
								<li><a href="graphics-performance-profiling.html"> Graphics performance and
										profiling</a></li>
								<li><a href="optimizing-draw-calls.html"> Optimizing draw calls</a></li>
								<li> Draw call batching</li>
							</ul>
						</div>
						<div class="mb20">
							<div class="nextprev clear">
								<div class="icon tt left mr1" data-distance="-40|-30|top">
									<span class="prev"><a href="gpu-instancing-shader.html"></a></span>
									<div class="tip"> Creating shaders that support GPU instancing</div>
								</div>
								<div class="icon tt right" data-distance="-40|-30|top">
									<span class="next"><a href="static-batching.html"></a></span>
									<div class="tip"> Static batching</div>
								</div>
							</div>
						</div>
						<div id="_leavefeedback"></div>
						<h1>Draw call batching</h1>
						<!--BeginSwitchLink--><!--EndSwitchLink-->
						<div class="clear"></div>

						<p><strong>Draw call batching</strong> là phương pháp <a href="optimizing-draw-calls.html">tối
								ưu draw call</a>
							bằng cách combine các meshes để Unity có thể render chúng với ít <strong>draw call</strong>
							hơn. Unity
							cung cấp 2 phương pháp draw call batching có sẵn (hai phương pháp này luôn được sử dụng mà
							developer không cần tùy chỉnh gì thêm):</p>

						<ul>
							<li>
								<a class="tooltipMoreInfoLink" href="static-batching.html">Static batching</a>: Dùng cho
								các <a href="StaticObjects.html">static</a> <span
									class="tooltip"><strong>GameObjects</strong><span class="tooltiptext">The
										fundamental object in Unity scenes, which can represent characters, props,
										scenery, cameras, waypoints, and more. A GameObject’s functionality is defined
										by the Components attached to it. <a href="class-GameObject.html">More
											info</a><br /><span class="tooltipGlossaryLink">See in <a
												href="Glossary.html#GameObject">Glossary</a></span></span></span>
							</li>
							<li>
								<a href="dynamic-batching.html">Dynamic batching</a>: Dùng cho các mesh đủ nhỏ, thao tác
								này sẽ
								biến đổi các vertices của mesh trên CPU, nhóm các vertices tương tự lại với nhau, và
								render chúng trong 1 lần draw call.
							</li>
						</ul>

						<p>Unity’s built-in draw call batching has several advantages over manually merging meshes; most
							notably, Unity can still cull meshes individually. However, it also has some downsides;
							static batching incurs memory and storage overhead, and dynamic batching incurs some CPU
							overhead.</p>

						<h2>Requirements and compatibility</h2>

						<p>This section includes information about the <span class="tooltip"><strong>render
									pipeline</strong><span class="tooltiptext">A series of operations that take the
									contents of a Scene, and displays them on a screen. Unity lets you choose from
									pre-built render pipelines, or write your own. <a class="tooltipMoreInfoLink"
										href="render-pipelines.html">More info</a><br /><span
										class="tooltipGlossaryLink">See in <a
											href="Glossary.html#Renderpipeline">Glossary</a></span></span></span>
							compatibility of Unity’s built-in draw call batching methods.</p>

						<h3>Render pipeline compatibility</h3>

						<table>
							<colgroup>
								<col style="text-align:left;">
								<col style="text-align:left;">
								<col style="text-align:left;">
								<col style="text-align:left;">
								<col style="text-align:left;">
							</colgroup>

							<thead>
								<tr>
									<th style="text-align:left;"><strong>Feature</strong></th>
									<th style="text-align:left;"><strong>Built-in Render Pipeline</strong></th>
									<th style="text-align:left;"><strong>Universal Render Pipeline (URP)</strong></th>
									<th style="text-align:left;"><strong>High Definition Render Pipeline (HDRP)</strong>
									</th>
									<th style="text-align:left;"><strong>Custom Scriptable Render Pipeline
											(SRP)</strong></th>
								</tr>
							</thead>

							<tbody>
								<tr>
									<td style="text-align:left;"><strong>Static Batching</strong></td>
									<td style="text-align:left;">Yes</td>
									<td style="text-align:left;">Yes</td>
									<td style="text-align:left;">Yes</td>
									<td style="text-align:left;">Yes</td>
								</tr>
								<tr>
									<td style="text-align:left;"><strong>Dynamic Batching</strong></td>
									<td style="text-align:left;">Yes</td>
									<td style="text-align:left;">Yes</td>
									<td style="text-align:left;">No</td>
									<td style="text-align:left;">Yes</td>
								</tr>
							</tbody>
						</table>

						<p><a name="using-draw-call-batching"></a></p>

						<h2>Using draw call batching</h2>

						<p>The following usage information is relevant for both static and dynamic batching. Thông tin
							chi tiết hơn về 2 method: <a href="static-batching.html">Static batching</a>, <a
								href="dynamic-batching.html">Dynamic batching</a>.</p>

						<p><span class="tooltip"><a class="tooltipMoreInfoLink" href="class-MeshRenderer.html">Mesh
									Renderers</a><span class="tooltiptext">A mesh component that takes the geometry from
									the Mesh Filter and renders it at the position defined by the object’s Transform
									component. <a href="class-MeshRenderer.html">More info</a><br /><span
										class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink"
											href="Glossary.html#MeshRenderer">Glossary</a></span></span></span>, <span
								class="tooltip"><a href="class-TrailRenderer.html">Trail Renderers</a><span
									class="tooltiptext">A visual effect that lets you to make trails behind GameObjects
									in the Scene as they move. <a href="class-TrailRenderer.html">More
										info</a><br /><span class="tooltipGlossaryLink">See in <a
											class="tooltipMoreInfoLink"
											href="Glossary.html#TrailRenderer">Glossary</a></span></span></span>, <span
								class="tooltip"><a href="class-LineRenderer.html">Line Renderers</a><span
									class="tooltiptext">A component that takes an array of two or more points in 3D
									space and draws a straight line between each one. You can use a single Line Renderer
									component to draw anything from a simple straight line to a complex spiral. <a
										href="class-LineRenderer.html">More info</a><br /><span
										class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink"
											href="Glossary.html#LineRenderer">Glossary</a></span></span></span>, <span
								class="tooltip"><a href="class-ParticleSystem.html">Particle Systems</a><span
									class="tooltiptext">A component that simulates fluid entities such as liquids,
									clouds and flames by generating and animating large numbers of small 2D images in
									the scene. <a href="class-ParticleSystem.html">More info</a><br /><span
										class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink"
											href="Glossary.html#particlesystem">Glossary</a></span></span></span>, và
							<span class="tooltip"><a href="class-SpriteRenderer.html">Sprite Renderers</a><span
									class="tooltiptext">A component that lets you display images as Sprites for use in
									both 2D and 3D scenes. <a href="class-SpriteRenderer.html">More info</a><br /><span
										class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink"
											href="Glossary.html#SpriteRenderer">Glossary</a></span></span></span> được
							hỗ trợ cho việc
							<strong>draw call batching</strong>. Một số rendering components khác như: Skinned Mesh
							Renderer, Cloth không được hỗ trợ. Unity chỉ batch các Renderer cùng loại với nhau, ví dụ
							Mesh Renderer với Mesh Renderer
						</p>

						<p>Unity áp dùng draw call batching với các GameObject mà dùng chung material. Nếu ta có 2
							material assets chỉ khác nhau ở phần texture, ta có thể sử dụng phương pháp
							<strong>
								<a href="http: //en.wikipedia.org/wiki/Texture_atlas">Wikipedia: texture atlasing</a>
							</strong> để gộp 2 texture thành 1 texture duy nhất, lúc này ta có thể dùng 1 material duy
							nhất cho nhiều gameObject (dù mỗi gameObject cần dùng texture khác nhau)
						</p>

						<ul>
							<li>
								<p>Nếu sử dụng <strong>Built-in Render Pipeline</strong>, ta có thể sử dụng 1 <a
										href="../ScriptReference/MaterialPropertyBlock.html">MaterialPropertyBlock</a>
									để thay đổi
									material properties mà không phá hỏng <strong>draw call batching</strong>. CPU vẫn
									cần thực hiện 1 số
									render-state changes, nhưng dùng <code>MaterialPropertyBlock</code> sẽ nhanh hơn so
									với dùng nhiều
									materials.
								</p>
							</li>
							<li>
								<p>Nếu sử dụng <strong>Scriptable Render Pipeline</strong>, không nên dùng
									<code>MaterialPropertyBlock</code> vì chúng sẽ xóa <strong>SRP Batcher
										compatibility</strong> của các
									material.
								</p>
							</li>
						</ul>



						<p>Transparent <span class="tooltip"><strong>shaders</strong><span class="tooltiptext">A program
									that runs on the GPU. <a class="tooltipMoreInfoLink" href="Shaders.html">More
										info</a><br /><span class="tooltipGlossaryLink">See in <a
											href="Glossary.html#Shader">Glossary</a></span></span></span> often require
							Unity to render meshes in back-to-front order. To batch transparent meshes, Unity first
							orders them from back to front and then tries to batch them. Since Unity must render the
							meshes back-to-front, it often can’t batch as many transparent meshes as opaque meshes.</p>

						<p>Unity không thể áp dựng <strong>dynamic batching</strong> tới các GameObject that contain
							mirroring in their <span class="tooltip"><strong>Transform component</strong><span
									class="tooltiptext">A
									Transform component determines the Position, Rotation, and Scale of each object in
									the scene. Every GameObject has a Transform. <a class="tooltipMoreInfoLink"
										href="class-Transform.html">More info</a><br /><span
										class="tooltipGlossaryLink">See in <a
											href="Glossary.html#TransformComponent">Glossary</a></span></span></span>.
							Ví dụ, 1 GameObject có scale là <strong>1</strong> và GameObject có scale là
							<strong>–1</strong>, Unity không thể batch chúng với nhau them.
						</p>

						<p>If you are not able to use draw call batching, manually combining meshes that are close to
							each other can be a good alternative. For more information on combining meshes, see <a
								href="combining-meshes.html">Combining meshes</a>.</p>

						<p>
							<strong>Warning</strong>: When you access shared material properties from a C# script, make
							sure to use <a
								href="../ScriptReference/Renderer-sharedMaterial.html">Renderer.sharedMaterial</a> and
							not <a href="../ScriptReference/Renderer-material.html">Renderer.material</a>.
							<code>Renderer.material</code> creates a copy of the material and assigns the copy back to
							the Renderer. This stops Unity from batching the draw calls for that Renderer.
						</p>

						<hr>

						<ul>
							<li>
								<p><span class="page-edit">2017–10–26 Page amended
									</span></p>
							</li>
							<li>
								<p><span class="page-history">Added note on dynamic batching being incompatible with
										graphics jobs in 2017.2</span></p>
							</li>
						</ul>
						<!-- area:graphics -->
						<div id="_content"></div>
						<div class="nextprev clear">
							<div class="icon tt left mr1" data-distance="-40|-30|top">
								<span class="prev"><a href="gpu-instancing-shader.html"></a></span>
								<div class="tip"> Creating shaders that support GPU instancing</div>
							</div>
							<div class="icon tt right" data-distance="-40|-30|top">
								<span class="next"><a href="static-batching.html"></a></span>
								<div class="tip"> Static batching</div>
							</div>
						</div>
					</div>
					<div class="footer-wrapper">
						<div class="footer clear">
							<div class="copy">Copyright © 2023 Unity Technologies. Publication Date: 2023-09-01.</div>
							<div class="menu">
								<a href="https://learn.unity.com/">Tutorials</a><a
									href="https://answers.unity3d.com">Community Answers</a><a
									href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a
									href="https://forum.unity3d.com">Forums</a><a
									href="https://unity3d.com/asset-store">Asset Store</a><a
									href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>